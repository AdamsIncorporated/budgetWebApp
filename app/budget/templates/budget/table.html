<div class="overflow-auto h-[calc(100vh-8rem)] w-full text-xs">
  <table id="budgetTable" class="border-collapse w-full bg-white">
    <thead class="text-nowrap focus:outline-none sticky top-0">
      <tr class="text-stone-50">
        <th class="bg-teal-700 px-2 py-2 whitespace-nowrap" colspan="5">
          Historical {{ form.budgets[0].FiscalYear.data[:2] + (form.budgets[0].FiscalYear.data[-2:] | int - 1) | string }}

        </th>
        <th class="bg-teal-900 px-2 py-2 whitespace-nowrap" colspan="5">
          Proposed {{ form.budgets[0].FiscalYear.data }}
        </th>
      </tr>
      <tr class="text-stone-50">
        <th class="sticky left-0 top-0 bg-teal-300 px-2 py-2 whitespace-nowrap">
          Account
        </th>
        <th class="bg-teal-400 px-2 py-2 whitespace-nowrap">Actual</th>
        <th class="bg-teal-400 px-2 py-2 whitespace-nowrap">Budget</th>
        <th variance class="bg-teal-400 px-2 py-2 whitespace-nowrap">
          Variance
        </th>
        <th class="bg-teal-600 border px-2 py-2 whitespace-nowrap">
          Forecasted Amount
        </th>
        <th class="bg-teal-800 border px-2 py-2 whitespace-nowrap">
          Proposed Budget
        </th>
        <th class="bg-teal-800 border px-2 py-2 whitespace-nowrap">
          Business Case Name
        </th>
        <th class="bg-teal-800 border px-2 py-2 whitespace-nowrap">
          Business Case Amount
        </th>
        <th class="bg-teal-800 border px-2 py-2 whitespace-nowrap">Comments</th>
        <th class="bg-teal-800 border px-2 py-2 whitespace-nowrap">
          Total FY Budget
        </th>
      </tr>
    </thead>
    <form id="budgetsForm" action="{{ request.path }}" , method="POST">
      {{ form.hidden_tag() }}
      <tbody class="text-gray-600">
        {% for budget_form in form.budgets %}
        <tr class="even:bg-gray-50 odd:bg-white">
          {{ budget_form.hidden_tag() }} {% for field in budget_form %} {% if
          not (field.type in ['HiddenField', 'CSRFTokenField']) %} {% if
          'Account' in field.name %}
          <td
            class="z-10 sticky top-[calc(4.08rem)] left-0 bg-inherit px-2 py-2 transition-colors text-nowrap"
          >
            {{ budget_form.AccountNo.data }} - {{ field.data }}
            <span
              class="absolute right-0 top-0 h-full border-r-4 border-teal-300"
            ></span>
          </td>
          {% else %}
          <td class="px-2 py-2 transition-colors">
            {{ field(class="overflow-none bg-inherit whitespace-nowrap
            focus:outline-none focus:ring-0 focus:border-transparent") }}
          </td>
          {% endif %} {% endif %} {% endfor %}
        </tr>
        {% endfor %}
      </tbody>
    </form>
  </table>
</div>
